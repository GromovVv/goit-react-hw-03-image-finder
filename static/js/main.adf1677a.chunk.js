(this["webpackJsonpgoit-react-hw-03-image-finder"]=this["webpackJsonpgoit-react-hw-03-image-finder"]||[]).push([[0],{27:function(e,t,n){},29:function(e,t,n){},30:function(e,t,n){},31:function(e,t,n){},32:function(e,t,n){},54:function(e,t,n){},73:function(e,t,n){},74:function(e,t,n){},75:function(e,t,n){"use strict";n.r(t);var a=n(0),r=n.n(a),c=n(8),o=n.n(c),i=n(10),l=n(4),s=n(5),u=n(7),h=n(6),m=(n(12),n(11)),g=(n(27),n(1)),d=function(e){Object(u.a)(n,e);var t=Object(h.a)(n);function n(){var e;Object(l.a)(this,n);for(var a=arguments.length,r=new Array(a),c=0;c<a;c++)r[c]=arguments[c];return(e=t.call.apply(t,[this].concat(r))).state={imageName:""},e.handleChange=function(t){e.setState({imageName:t.currentTarget.value})},e.loadGallery=function(t){t.preventDefault(),""!==e.state.imageName.trim()?(e.props.onSubmit(e.state.imageName),e.setState({imageName:""})):Object(m.b)("Please enter word that You want to find")},e}return Object(s.a)(n,[{key:"render",value:function(){return Object(g.jsx)("header",{className:"Searchbar",children:Object(g.jsxs)("form",{className:"SearchForm",onSubmit:this.loadGallery,children:[Object(g.jsx)("button",{type:"submit",className:"SearchForm-button",children:Object(g.jsx)("span",{className:"SearchForm-button-label",children:"Search"})}),Object(g.jsx)(m.a,{}),Object(g.jsx)("input",{className:"SearchForm-input",type:"text",autoComplete:"off",autoFocus:!0,placeholder:"Search images and photos",value:this.state.imageName,onChange:this.handleChange})]})})}}]),n}(a.Component),b=(n(29),function(e){var t=e.url,n=e.alt,a=e.onClick;return Object(g.jsx)(g.Fragment,{children:Object(g.jsx)("li",{className:"ImageGalleryItem",children:Object(g.jsx)("img",{src:t,alt:n,className:"ImageGalleryItem-image",onClick:a})})})}),j=(n(30),function(e){var t=e.img,n=e.onClick;return Object(g.jsx)("ul",{className:"ImageGallery",children:t.map((function(e){var t=e.id,a=e.webformatURL,r=e.largeImageURL,c=e.tags;return Object(g.jsx)("li",{className:"ImageGalleryItem",children:Object(g.jsx)(b,{url:a,alt:c,onClick:function(){return n(r,c)}})},t)}))})}),f=(n(31),function(e){var t=e.onClick;return Object(g.jsx)("div",{className:"Container",children:Object(g.jsx)("button",{type:"button",className:"Button",onClick:t,children:"LOAD MORE"})})}),p=(n(32),document.getElementById("modal-root")),O=function(e){Object(u.a)(n,e);var t=Object(h.a)(n);function n(){var e;Object(l.a)(this,n);for(var a=arguments.length,r=new Array(a),c=0;c<a;c++)r[c]=arguments[c];return(e=t.call.apply(t,[this].concat(r))).handleCloseModal=function(t){"Escape"!==t.code&&t.currentTarget!==t.target||e.props.onClose()},e}return Object(s.a)(n,[{key:"componentDidMount",value:function(){window.addEventListener("keydown",this.handleCloseModal)}},{key:"componentWillUnmount",value:function(){window.removeEventListener("keydown",this.handleCloseModal),window.removeEventListener("click",this.handleCloseModal)}},{key:"render",value:function(){var e=this.props,t=e.url,n=e.alt;return Object(c.createPortal)(Object(g.jsx)("div",{className:"Overlay",onClick:this.handleCloseModal,children:Object(g.jsx)("div",{className:"Modal",children:Object(g.jsx)("img",{src:t,alt:n})})}),p)}}]),n}(a.Component),y=n(21),v=n.n(y),x=(n(53),n(54),function(e){Object(u.a)(n,e);var t=Object(h.a)(n);function n(){return Object(l.a)(this,n),t.apply(this,arguments)}return Object(s.a)(n,[{key:"render",value:function(){return Object(g.jsx)(v.a,{type:"BallTriangle",color:"#00BFFF",height:50,width:50,timeout:5e3,style:{textAlign:"center"}})}}]),n}(a.Component)),C=n(22),N=n.n(C),w=function(e){var t=e.pageNumber,n=void 0===t?1:t,a=e.query,r=void 0===a?"":a;return N.a.get("".concat("https://pixabay.com/api/?","q=").concat(r,"&page=").concat(n,"&key=").concat("20622513-c51f7eb41b150be27698c4819","&image_type=photo&orientation=horizontal&per_page=12")).then((function(e){return e.data.hits}))},k=(n(73),function(e){Object(u.a)(n,e);var t=Object(h.a)(n);function n(){var e;Object(l.a)(this,n);for(var a=arguments.length,r=new Array(a),c=0;c<a;c++)r[c]=arguments[c];return(e=t.call.apply(t,[this].concat(r))).state={url:"",alt:"",showModal:!1,imgGallery:[],query:"",pageNumber:1,bigImg:"",bigImgTags:"",fetchLength:"",isLoading:!1,error:null},e.toggleModal=function(){e.setState((function(e){return{showModal:!e.showModal}}))},e.onChangeQuery=function(t){e.setState({query:t,pageNumber:1,imgGallery:[],fetchLength:""})},e.fetchImg=function(){var t=e.state,n={query:t.query,pageNumber:t.pageNumber};e.setState({isLoading:!0}),w(n).then((function(t){e.setState((function(e){return{imgGallery:[].concat(Object(i.a)(e.imgGallery),Object(i.a)(t)),pageNumber:e.pageNumber+1,fetchLength:t.length}}))})).catch((function(t){return e.setState({error:t})})).finally((function(){return e.state.pageNumber>2&&window.scrollTo({top:document.documentElement.scrollHeight,behavior:"smooth"}),e.setState({isLoading:!1})}))},e.onImgClick=function(t,n){e.setState({bigImg:t,bigImgTags:n,showModal:!0})},e}return Object(s.a)(n,[{key:"componentDidUpdate",value:function(e,t){var n=this.state.query;t.query!==n&&this.fetchImg()}},{key:"render",value:function(){var e=this.state,t=e.showModal,n=e.bigImg,a=e.bigImgTags,r=e.imgGallery,c=e.fetchLength,o=e.isLoading,i=e.error;return Object(g.jsxs)("div",{className:"App",children:[t&&Object(g.jsx)(O,{onClose:this.toggleModal,url:n,alt:a}),Object(g.jsx)(d,{onSubmit:this.onChangeQuery}),Object(g.jsx)(j,{img:r,onClick:this.onImgClick}),o&&Object(g.jsx)(x,{}),r.length>0&&12===c&&!o&&Object(g.jsx)(f,{onClick:this.fetchImg}),i&&Object(g.jsx)("h2",{className:"Error-Message",children:"WTF? Shit happens, dude \ud83d\ude32\ud83d\ude43\ud83e\udd2a. Please try again, bro \ud83d\ude0e"})]})}}]),n}(a.Component));n(74);o.a.render(Object(g.jsx)(r.a.StrictMode,{children:Object(g.jsx)(k,{})}),document.getElementById("root"))}},[[75,1,2]]]);
//# sourceMappingURL=main.adf1677a.chunk.js.map