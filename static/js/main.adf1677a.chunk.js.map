{"version":3,"sources":["Components/Searchbar/Searchbar.jsx","Components/ImageGalleryItem/ImageGalleryItem.jsx","Components/ImageGallery/ImageGallery.jsx","Components/Button/Button.jsx","Components/Modal/Modal.jsx","Components/Loader/Loader.jsx","Components/Services/ServicesApi.jsx","App.js","index.js"],"names":["Searchbar","state","imageName","handleChange","event","setState","currentTarget","value","loadGallery","preventDefault","trim","props","onSubmit","toast","className","this","type","autoComplete","autoFocus","placeholder","onChange","Component","ImageGalleryItem","url","alt","onClick","src","ImageGallery","img","map","id","webformatURL","largeImageURL","tags","Button","modalRoot","document","getElementById","Modal","handleCloseModal","code","target","onClose","window","addEventListener","removeEventListener","createPortal","Loader","color","height","width","timeout","style","textAlign","pageNumber","query","axios","get","then","response","data","hits","App","showModal","imgGallery","bigImg","bigImgTags","fetchLength","isLoading","error","toggleModal","onChangeQuery","fetchImg","options","API","prevState","length","catch","finally","scrollTo","top","documentElement","scrollHeight","behavior","onImgClick","imgTags","prevProps","ReactDOM","render","StrictMode"],"mappings":"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","file":"static/js/main.adf1677a.chunk.js","sourcesContent":["import { Component } from 'react';\r\nimport { ToastContainer, toast } from 'react-toastify';\r\nimport 'react-toastify/dist/ReactToastify.css';\r\nimport PropTypes from 'prop-types';\r\n\r\nimport './Searchbar.scss';\r\n\r\nclass Searchbar extends Component {\r\n  state = {\r\n    imageName: '',\r\n  };\r\n\r\n  handleChange = event => {\r\n    this.setState({ imageName: event.currentTarget.value });\r\n  };\r\n\r\n  loadGallery = event => {\r\n    event.preventDefault();\r\n\r\n    if (this.state.imageName.trim() === '') {\r\n      toast('Please enter word that You want to find');\r\n      return;\r\n    }\r\n    this.props.onSubmit(this.state.imageName);\r\n\r\n    this.setState({ imageName: '' });\r\n  };\r\n\r\n  render() {\r\n    return (\r\n      <header className=\"Searchbar\">\r\n        <form className=\"SearchForm\" onSubmit={this.loadGallery}>\r\n          <button type=\"submit\" className=\"SearchForm-button\">\r\n            <span className=\"SearchForm-button-label\">Search</span>\r\n          </button>\r\n          <ToastContainer />\r\n\r\n          <input\r\n            className=\"SearchForm-input\"\r\n            type=\"text\"\r\n            autoComplete=\"off\"\r\n            autoFocus\r\n            placeholder=\"Search images and photos\"\r\n            value={this.state.imageName}\r\n            onChange={this.handleChange}\r\n          />\r\n        </form>\r\n      </header>\r\n    );\r\n  }\r\n}\r\n\r\nSearchbar.propTypes = {\r\n  onSubmit: PropTypes.func.isRequired,\r\n};\r\n\r\nexport default Searchbar;\r\n","import PropTypes from 'prop-types';\r\n\r\nimport './ImageGalleryItem.scss';\r\n\r\nconst ImageGalleryItem = ({ url, alt, onClick }) => {\r\n  return (\r\n    <>\r\n      <li className=\"ImageGalleryItem\">\r\n        <img src={url} alt={alt} className=\"ImageGalleryItem-image\" onClick={onClick}/>\r\n      </li>\r\n    </>\r\n  );\r\n};\r\n\r\nImageGalleryItem.propTypes = {\r\n  url: PropTypes.string.isRequired,\r\n  alt: PropTypes.string.isRequired,\r\n  onClick: PropTypes.func.isRequired\r\n}\r\n\r\nexport default ImageGalleryItem;\r\n","import PropTypes from 'prop-types';\r\n\r\nimport ImageGalleryItem from '../ImageGalleryItem';\r\n\r\nimport './ImageGallery.scss';\r\n\r\nconst ImageGallery = ({ img, onClick }) => {\r\n  return (\r\n    <ul className=\"ImageGallery\">\r\n      {img.map(({ id, webformatURL, largeImageURL, tags }) => (\r\n        <li className=\"ImageGalleryItem\" key={id}>\r\n          <ImageGalleryItem\r\n            url={webformatURL}\r\n            alt={tags}\r\n            onClick={() => onClick(largeImageURL, tags)}\r\n          />\r\n        </li>\r\n      ))}\r\n    </ul>\r\n  );\r\n};\r\n\r\nImageGallery.propTypes = {\r\n  img: PropTypes.arrayOf(\r\n    PropTypes.shape({\r\n      id: PropTypes.number.isRequired,\r\n    }),\r\n  ),\r\n  onClick: PropTypes.func.isRequired\r\n};\r\n\r\nexport default ImageGallery;\r\n","import './Button.scss';\r\n\r\nconst Button = ({ onClick }) => {\r\n  return (\r\n    <div className=\"Container\">\r\n      <button type=\"button\" className=\"Button\" onClick={onClick}>\r\n        LOAD MORE\r\n      </button>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default Button;\r\n","import { Component } from 'react';\r\nimport { createPortal } from 'react-dom';\r\nimport PropTypes from 'prop-types'\r\n\r\n\r\nimport './Modal.scss';\r\n\r\nconst modalRoot = document.getElementById('modal-root');\r\n\r\nclass Modal extends Component {\r\n  componentDidMount() {\r\n    window.addEventListener('keydown', this.handleCloseModal);\r\n  }\r\n\r\n  componentWillUnmount() {\r\n    window.removeEventListener('keydown', this.handleCloseModal);\r\n    window.removeEventListener('click', this.handleCloseModal);\r\n  }\r\n\r\n  handleCloseModal = event => {\r\n    if (event.code === 'Escape' || event.currentTarget === event.target) {\r\n      this.props.onClose();\r\n    }\r\n  };\r\n\r\n  render() {\r\n    const { url, alt } = this.props;\r\n\r\n    return createPortal(\r\n      <div className=\"Overlay\" onClick={this.handleCloseModal}>\r\n        <div className=\"Modal\">\r\n          <img src={url} alt={alt}/>\r\n        </div>\r\n      </div>, modalRoot\r\n    );\r\n  }\r\n}\r\n\r\nModal.propTypes = {\r\n  url: PropTypes.string.isRequired,\r\n  alt: PropTypes.string.isRequired,\r\n  onClose: PropTypes.func.isRequired\r\n}\r\n\r\nexport default Modal;\r\n","import ImageLoader from \"react-loader-spinner\";\r\n\r\nimport { Component } from 'react';\r\nimport \"react-loader-spinner/dist/loader/css/react-spinner-loader.css\";\r\n\r\nimport './Loader.scss';\r\n\r\nclass Loader extends Component {\r\n  render() {\r\n    return (\r\n      <ImageLoader\r\n        type=\"BallTriangle\"\r\n        color=\"#00BFFF\"\r\n        height={50}\r\n        width={50}\r\n        timeout={5000}\r\n        style={{textAlign: 'center'}}\r\n      />\r\n    );\r\n  }\r\n}\r\nexport default Loader;\r\n","import axios from 'axios'\r\n\r\nconst BASE_URL = 'https://pixabay.com/api/?';\r\nconst KEY = '20622513-c51f7eb41b150be27698c4819';\r\n\r\nconst fetchImg = ({ pageNumber = 1, query = '' }) => {\r\n  return  axios\r\n  .get(`${BASE_URL}q=${query}&page=${pageNumber}&key=${KEY}&image_type=photo&orientation=horizontal&per_page=12`)\r\n  .then(response => response.data.hits);\r\n};\r\n\r\nexport default { fetchImg };\r\n","import { Component } from 'react';\n// import { ToastContainer, toast } from 'react-toastify';\nimport 'react-toastify/dist/ReactToastify.css';\n\nimport Searchbar from './Components/Searchbar';\nimport ImageGallery from './Components/ImageGallery';\nimport Button from './Components/Button';\nimport Modal from './Components/Modal';\nimport Loader from './Components/Loader';\n\nimport API from './Components/Services';\n\nimport './App.scss';\n\nclass App extends Component {\n  state = {\n    url: '',\n    alt: '',\n    showModal: false,\n    imgGallery: [],\n    query: '',\n    pageNumber: 1,\n    bigImg: '',\n    bigImgTags: '',\n    fetchLength: '',\n    isLoading: false,\n    error: null,\n  };\n\n  componentDidUpdate(prevProps, prevState) {\n    const { query } = this.state;\n\n    if (prevState.query !== query) {\n      this.fetchImg();\n    }\n  }\n\n  toggleModal = () => {\n    this.setState(({ showModal }) => ({\n      showModal: !showModal,\n    }));\n  };\n\n  onChangeQuery = query => {\n    this.setState({\n      query,\n      pageNumber: 1,\n      imgGallery: [],\n      fetchLength: '',\n    });\n  };\n\n  fetchImg = () => {\n    const { query, pageNumber } = this.state;\n    const options = { query, pageNumber };\n\n    this.setState({ isLoading: true });\n\n    API.fetchImg(options)\n      .then(imgGallery => {\n        this.setState(prevState => ({\n          imgGallery: [...prevState.imgGallery, ...imgGallery],\n          pageNumber: prevState.pageNumber + 1,\n          fetchLength: imgGallery.length,\n        }));\n      })\n      .catch(error => this.setState({ error }))\n      .finally(() => {\n        if (this.state.pageNumber > 2) {\n          window.scrollTo({\n            top: document.documentElement.scrollHeight,\n            behavior: 'smooth',\n          });\n        }\n        return this.setState({ isLoading: false });\n      });\n  };\n\n  onImgClick = (img, imgTags) => {\n    this.setState({ bigImg: img, bigImgTags: imgTags, showModal: true });\n  };\n\n  render() {\n    const {\n      showModal,\n      bigImg,\n      bigImgTags,\n      imgGallery,\n      fetchLength,\n      isLoading,\n      error,\n    } = this.state;\n\n    return (\n      <div className=\"App\">\n        {showModal && (\n          <Modal onClose={this.toggleModal} url={bigImg} alt={bigImgTags} />\n        )}\n\n        <Searchbar onSubmit={this.onChangeQuery} />\n        <ImageGallery img={imgGallery} onClick={this.onImgClick} />\n\n        {isLoading && <Loader />}\n\n        {imgGallery.length > 0 && fetchLength === 12 && !isLoading && (\n          <Button onClick={this.fetchImg} />\n        )}\n\n        {error && <h2 className=\"Error-Message\">WTF? Shit happens, dude 😲🙃🤪. Please try again, bro 😎</h2>}\n      </div>\n    );\n  }\n}\n\nexport default App;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\n\nimport App from './App';\n\nimport './Styles.scss'\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\n"],"sourceRoot":""}